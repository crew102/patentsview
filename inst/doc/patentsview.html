<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>patentsview</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">patentsview</h1>



<blockquote>
<p>An R Client to the PatentsView API</p>
</blockquote>
<p><a href="https://travis-ci.org/ropensci/patentsview"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MCIgaGVpZ2h0PSIyMCI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2JiYiIgc3RvcC1vcGFjaXR5PSIuMSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1vcGFjaXR5PSIuMSIvPjwvbGluZWFyR3JhZGllbnQ+PHJlY3Qgcng9IjMiIHdpZHRoPSI5MCIgaGVpZ2h0PSIyMCIgZmlsbD0iIzU1NSIvPjxyZWN0IHJ4PSIzIiB4PSIzNyIgd2lkdGg9IjUzIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNGMxIi8+PHBhdGggZmlsbD0iIzRjMSIgZD0iTTM3IDBoNHYyMGgtNHoiLz48cmVjdCByeD0iMyIgd2lkdGg9IjkwIiBoZWlnaHQ9IjIwIiBmaWxsPSJ1cmwoI2EpIi8+PGcgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkRlamFWdSBTYW5zLFZlcmRhbmEsR2VuZXZhLHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiPjx0ZXh0IHg9IjE5LjUiIHk9IjE1IiBmaWxsPSIjMDEwMTAxIiBmaWxsLW9wYWNpdHk9Ii4zIj5idWlsZDwvdGV4dD48dGV4dCB4PSIxOS41IiB5PSIxNCI+YnVpbGQ8L3RleHQ+PHRleHQgeD0iNjIuNSIgeT0iMTUiIGZpbGw9IiMwMTAxMDEiIGZpbGwtb3BhY2l0eT0iLjMiPnBhc3Npbmc8L3RleHQ+PHRleHQgeD0iNjIuNSIgeT0iMTQiPnBhc3Npbmc8L3RleHQ+PC9nPjwvc3ZnPg==" alt="Linux Build Status" /></a> <a href="https://ci.appveyor.com/project/ropensci/patentsview"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTQiIGhlaWdodD0iMjAiIHN0eWxlPSJzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiPg0KICA8bGluZWFyR3JhZGllbnQgaWQ9ImIiIHgyPSIwIiB5Mj0iMTAwJSI+DQogICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjYmJiIiBzdG9wLW9wYWNpdHk9Ii4xIi8+DQogICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9Ii4xIi8+DQogIDwvbGluZWFyR3JhZGllbnQ+DQogIDxtYXNrIGlkPSJhIj4NCiAgICA8cmVjdCB3aWR0aD0iMTE0IiBoZWlnaHQ9IjIwIiByeD0iMyIgZmlsbD0iI2ZmZiIvPg0KICA8L21hc2s+DQogIDxnIG1hc2s9InVybCgjYSkiPg0KICAgIDxwYXRoIGZpbGw9IiM1NTUiIGQ9Ik0wIDBoNTN2MjBIMHoiLz4NCiAgICA8cGF0aCBmaWxsPSIjOWY5ZjlmIiBkPSJNNTMgMGg5MnYyMEg1M3oiLz4NCiAgICA8cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMCAwaDExNHYyMEgweiIvPg0KICA8L2c+DQogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDAuMDQ1LDAsMCwwLjA0NSwwLDEuMDIyNzI3MikiPg0KICAgIDxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0yNDIgNDhjODYsMCAxNTUsNjkgMTU1LDE1NCAwLDg2IC02OSwxNTUgLTE1NSwxNTUgLTg1LDAgLTE1NCwtNjkgLTE1NCwtMTU1IDAsLTg1IDY5LC0xNTQgMTU0LC0xNTR6bTM4IDE4NGMtMTcsMjIgLTQ4LDI2IC02OSw5IC0yMSwtMTYgLTI0LC00NyAtNywtNjkgMTgsLTIxIDQ5LC0yNSA3MCwtOSAyMSwxNyAyNCw0OCA2LDY5em0tODIgMTAxbDU5IC01N2MtMjIsNSAtNDUsMSAtNjMsLTE0IC0yMSwtMTYgLTMwLC00MyAtMjcsLTY4bC01MyA1OGMwLDAgLTcsLTEzIC05LC0zN2w5MyAtNzNjMjgsLTIwIDY2LC0yMSA5MywwIDMwLDI0IDM2LDY4IDE0LDEwMWwtNjggOTdjLTEwLDAgLTMwLC0zIC0zOSwtN3oiLz4NCiAgPC9nPg0KICA8ZyBmaWxsPSIjZmZmIiBmb250LWZhbWlseT0iRGVqYVZ1IFNhbnMsVmVyZGFuYSxHZW5ldmEsc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSI+DQoNCiAgICA8dGV4dCB4PSIyMiIgeT0iMTUiIGZpbGw9IiMwMTAxMDEiIGZpbGwtb3BhY2l0eT0iLjMiPmJ1aWxkPC90ZXh0Pg0KICAgIDx0ZXh0IHg9IjIyIiB5PSIxNCI+YnVpbGQ8L3RleHQ+DQoNCiAgICA8dGV4dCB4PSI1OCIgeT0iMTUiIGZpbGw9IiMwMTAxMDEiIGZpbGwtb3BhY2l0eT0iLjMiPnVua25vd248L3RleHQ+DQogICAgPHRleHQgeD0iNTgiIHk9IjE0Ij51bmtub3duPC90ZXh0Pg0KICA8L2c+DQo8L3N2Zz4=" alt="AppVeyor Build Status" /></a></p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">&quot;ropensci/patentsview&quot;</span>)</code></pre></div>
</div>
<div id="basic-usage" class="section level2">
<h2>Basic usage</h2>
<p>The <a href="http://www.patentsview.org/api/doc.html">PatentsView API</a> provides an interface to a disambiguated version of USPTO. The <code>patentsview</code> R package provides one main function, <code>search_pv()</code>, to make it easy to interact with that API. Let’s take a look:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(patentsview)

<span class="kw">search_pv</span>(<span class="dt">query =</span> <span class="st">'{&quot;_gte&quot;:{&quot;patent_date&quot;:&quot;2007-01-01&quot;}}'</span>,
          <span class="dt">endpoint =</span> <span class="st">&quot;patents&quot;</span>)
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 25 obs. of  3 variables:</span>
<span class="co">#&gt;   ..$ patent_id    : chr [1:25] &quot;7155746&quot; ...</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:25] &quot;7155746&quot; ...</span>
<span class="co">#&gt;   ..$ patent_title : chr [1:25] &quot;Anti-wicking protective workwear and methods of making and using same&quot; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 100,000</span></code></pre></div>
<p>This call to <code>search_pv()</code> sends our query to the “patents” API endpoint. The API has 7 different endpoints, corresponding to 7 different entity types (assignees, CPC subsections, inventors, locations, NBER subcategories, patents, and USPC main classes).<sup><a href="#fn1" id="ref1">1</a></sup> We filtered our results using the API’s <a href="http://www.patentsview.org/api/query-language.html">query language</a> which uses JSON, though we could have used pure R functions (described in the <a href="https://github.com/ropensci/patentsview/blob/master/vignettes/writing-queries.Rmd">writing queries vignette</a>) instead.</p>
</div>
<div id="fields" class="section level2">
<h2>Fields</h2>
<p>Each endpoint has a different set of <em>queryable</em> and <em>retrievable</em> fields. Queryable fields are those that you can include in your query (e.g., <code>patent_date</code> shown above). Retrievable fields are those that you can get data on. In the above query we didn’t specify which fields we wanted to retrieve, so we were given a default set of fields. You can specify which fields you want to retrieve using the <code>fields</code> argument:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">search_pv</span>(<span class="dt">query =</span> <span class="st">'{&quot;_gte&quot;:{&quot;patent_date&quot;:&quot;2007-01-01&quot;}}'</span>,
          <span class="dt">endpoint =</span> <span class="st">&quot;patents&quot;</span>, 
          <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;patent_number&quot;</span>, <span class="st">&quot;patent_title&quot;</span>))
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 25 obs. of  2 variables:</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:25] &quot;7155746&quot; ...</span>
<span class="co">#&gt;   ..$ patent_title : chr [1:25] &quot;Anti-wicking protective workwear and methods of making and using same&quot; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 100,000</span></code></pre></div>
<p>To list all of the retrievable fields for a given endpoint, use <code>get_fields</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">retrvble_flds &lt;-<span class="st"> </span><span class="kw">get_fields</span>(<span class="dt">endpoint =</span> <span class="st">&quot;patents&quot;</span>)
<span class="kw">head</span>(retrvble_flds)
<span class="co">#&gt; [1] &quot;app_country&quot;       &quot;app_date&quot;          &quot;app_number&quot;       </span>
<span class="co">#&gt; [4] &quot;app_type&quot;          &quot;appcit_app_number&quot; &quot;appcit_category&quot;</span></code></pre></div>
<p>You can see an endpoint’s list of queryable and retrievable fields by viewing the endpoint’s online field list (e.g., the <a href="http://www.patentsview.org/api/inventor.html#field_list">inventor field list table</a>). Note the “Query” column in this table, which lets you know whether the field is both queryable and retrievable (Query = Y), or just retrievable (Query = N). A list of all of the queryable and retrievable fields are also listed in the <code>fieldsdf</code> data frame, which you can load using <code>data(&quot;fieldsdf&quot;)</code> or <code>View(patentsview::fieldsdf)</code>.</p>
</div>
<div id="writing-queries" class="section level2">
<h2>Writing queries</h2>
<p>The PatentsView query syntax is documented on their <a href="http://www.patentsview.org/api/query-language.html#query_string_format">query language page</a>.<sup><a href="#fn2" id="ref2">2</a></sup> It can be difficult to get your query right if you’re writing it by hand (i.e., just writing the query in a string like <code>'{&quot;_gte&quot;:{&quot;patent_date&quot;:&quot;2007-01-01&quot;}}'</code>). The <code>patentsview</code> package comes with a simple domain specific language (DSL) to make writing queries a breeze. I recommend using this DSL for all but the most basic queries, especially if you’re encountering errors and don’t understand why. Check out the <a href="https://github.com/ropensci/patentsview/blob/master/vignettes/writing-queries.Rmd">writing queries vignette</a> for more details…We can rewrite our query using this DSL as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">qry_funs$<span class="kw">gte</span>(<span class="dt">patent_date =</span> <span class="st">&quot;2007-01-01&quot;</span>)
<span class="co">#&gt; {&quot;_gte&quot;:{&quot;patent_date&quot;:&quot;2007-01-01&quot;}}</span></code></pre></div>
<p>More complex queries are also possible:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">with_qfuns</span>(
  <span class="kw">and</span>(
    <span class="kw">gte</span>(<span class="dt">patent_date =</span> <span class="st">&quot;2007-01-01&quot;</span>),
    <span class="kw">text_phrase</span>(<span class="dt">patent_abstract =</span> <span class="kw">c</span>(<span class="st">&quot;computer program&quot;</span>, <span class="st">&quot;dog leash&quot;</span>))
  )
)
<span class="co">#&gt; {&quot;_and&quot;:[{&quot;_gte&quot;:{&quot;patent_date&quot;:&quot;2007-01-01&quot;}},{&quot;_or&quot;:[{&quot;_text_phrase&quot;:{&quot;patent_abstract&quot;:&quot;computer program&quot;}},{&quot;_text_phrase&quot;:{&quot;patent_abstract&quot;:&quot;dog leash&quot;}}]}]}</span></code></pre></div>
</div>
<div id="paginated-responses" class="section level2">
<h2>Paginated responses</h2>
<p>By default, <code>search_pv()</code> returns 25 records per page and only gives you the first page of results. I suggest using these defaults while you’re figuring out the details of your request, such as the query syntax you want to use and the fields you want returned. Once you have those items finalized, you can use the <code>per_page</code> argument to download up to 10,000 records per page. You can also choose which page of results you want with the <code>page</code> argument:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">eq</span>(<span class="dt">inventor_last_name =</span> <span class="st">&quot;chambers&quot;</span>),
          <span class="dt">page =</span> <span class="dv">2</span>, <span class="dt">per_page =</span> <span class="dv">150</span>) <span class="co"># gets records 150 - 300</span>
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 150 obs. of  3 variables:</span>
<span class="co">#&gt;   ..$ patent_id    : chr [1:150] &quot;4408568&quot; ...</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:150] &quot;4408568&quot; ...</span>
<span class="co">#&gt;   ..$ patent_title : chr [1:150] &quot;Furnace wall ash monitoring system&quot; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 1,812</span></code></pre></div>
<p>You can download all pages of output in one call by setting <code>all_pages = TRUE</code>. This will set <code>per_page</code> equal to 10,000 and loop over all pages of output (downloading up to 10 pages, or 100,000 records total):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">eq</span>(<span class="dt">inventor_last_name =</span> <span class="st">&quot;chambers&quot;</span>),
          <span class="dt">all_pages =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 1812 obs. of  3 variables:</span>
<span class="co">#&gt;   ..$ patent_id    : chr [1:1812] &quot;3931611&quot; ...</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:1812] &quot;3931611&quot; ...</span>
<span class="co">#&gt;   ..$ patent_title : chr [1:1812] &quot;Program event recorder and data processing system&quot; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 1,812</span></code></pre></div>
</div>
<div id="entity-counts" class="section level2">
<h2>Entity counts</h2>
<p>Our last two calls to <code>search_pv()</code> gave the same value for <code>total_patent_count</code>, even though we got a lot more data from the second call. This is because the entity counts returned by the API refer to the number of distinct entities across all <em>downloadable pages of output</em>, not just the page that was returned. Downloadable pages of output is an important phrase here, as the API limits us to 100,000 records per query. For example, we got <code>total_patent_count = 100,000</code> when we searched for patents published on or after 2007, even though there are way more than 100,000 patents that have been published since 2007. See the FAQs below for details on how to overcome the 100,000 record restriction.</p>
<p>By default, <strong>PatentsView uses disambiguted versions of assignees, inventors, and locations, instead of raw data.</strong> For example, let’s say you search for all inventors whose first name is “john.” The PatentsView API is going to return all of the inventors who have a preferred first name of john (as per the disambiguation results), which may not necessarily match their raw first name. You could be getting back inventors whose first name is, say, “jonathan,” “johnn,” or even “john jay.” You can search on the raw inventor names instead of the preferred names by using the fields starting with “raw” in your query (e.g., <code>rawinventor_first_name</code>). Note that the assignee and location raw data fields are not currently being offered by the API. To see the methods behind the disambiguation process, see the <a href="http://www.patentsview.org/workshop/">PatentsView Inventor Disambiguation Technical Workshop website</a></p>
</div>
<div id="endpoints-for-7-entities" class="section level2">
<h2>7 endpoints for 7 entities</h2>
<p>We can get similar data from the 7 endpoints. For example, the following two calls differ only in the endpoint that is chosen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Here we are using the patents endpoint</span>
<span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">eq</span>(<span class="dt">inventor_last_name =</span> <span class="st">&quot;chambers&quot;</span>), 
          <span class="dt">endpoint =</span> <span class="st">&quot;patents&quot;</span>, 
          <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;patent_number&quot;</span>, <span class="st">&quot;inventor_last_name&quot;</span>, 
                     <span class="st">&quot;assignee_organization&quot;</span>))
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame (with list column(s) inside) on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 25 obs. of  3 variables:</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:25] &quot;3931611&quot; ...</span>
<span class="co">#&gt;   ..$ inventors    :List of 25</span>
<span class="co">#&gt;   ..$ assignees    :List of 25</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 1,812</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># While here we are using the assignees endpoint</span>
<span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">eq</span>(<span class="dt">inventor_last_name =</span> <span class="st">&quot;chambers&quot;</span>), 
          <span class="dt">endpoint =</span> <span class="st">&quot;assignees&quot;</span>, 
          <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;patent_number&quot;</span>, <span class="st">&quot;inventor_last_name&quot;</span>, 
                     <span class="st">&quot;assignee_organization&quot;</span>))
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame (with list column(s) inside) on the assignee data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ assignees:'data.frame':   25 obs. of  3 variables:</span>
<span class="co">#&gt;   ..$ assignee_organization: chr [1:25] &quot;American Printing Components, LLC&quot; ...</span>
<span class="co">#&gt;   ..$ patents              :List of 25</span>
<span class="co">#&gt;   ..$ inventors            :List of 25</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_assignee_count = 467</span></code></pre></div>
<p>Your choice of endpoint determines two things:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Which entity your query is applied to.</strong> For the first call shown above, the API searched for <em>patents</em> that have at least one inventor on them with the last name of “chambers.” For the second call, the API searched for <em>assignees</em> that were assigned a patent that has at least one inventor on it with the last name of “chambers.”</p></li>
<li><p><strong>The structure of the data frame that is returned.</strong> The first call (which was to the patents endpoint) gave us a data frame on the <em>patent level</em>, meaning that each row corresponded to a different patent. Fields that were not on the patent level (e.g., <code>inventor_last_name</code>) were returned to us in list columns, named after the subentity that the field belongs to (e.g., the <code>inventors</code> subentity).<sup><a href="#fn3" id="ref3">3</a></sup> The second call gave us a data frame on the <em>assignee level</em>, meaning that each row corresponded to a different assignee.</p></li>
</ol>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<p>Which patents have been cited by more than 500 US patents?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">gt</span>(<span class="dt">patent_num_cited_by_us_patents =</span> <span class="dv">500</span>))
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 25 obs. of  3 variables:</span>
<span class="co">#&gt;   ..$ patent_id    : chr [1:25] &quot;3946398&quot; ...</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:25] &quot;3946398&quot; ...</span>
<span class="co">#&gt;   ..$ patent_title : chr [1:25] &quot;Method and apparatus for recording with writing fluids and drop projection means therefor&quot; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 2,436</span></code></pre></div>
<p>How many distinct inventors (disambiguated) are represented by these highly-cited patents?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Setting subent_cnts = TRUE will give us the subentity counts. Since inventors </span>
<span class="co"># are subentities for the patents endpoint, this means we will get their counts.</span>
<span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">gt</span>(<span class="dt">patent_num_cited_by_us_patents =</span> <span class="dv">500</span>),
          <span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;patent_number&quot;</span>, <span class="st">&quot;inventor_id&quot;</span>), <span class="dt">subent_cnts =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame (with list column(s) inside) on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 25 obs. of  2 variables:</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:25] &quot;3946398&quot; ...</span>
<span class="co">#&gt;   ..$ inventors    :List of 25</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 2,436, total_inventor_count = 4,223</span></code></pre></div>
<p>What patents has Microsoft (disambiguated) published since 2010?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">query &lt;-<span class="st"> </span><span class="kw">with_qfuns</span>(
  <span class="kw">and</span>(
    <span class="kw">gte</span>(<span class="dt">patent_date =</span> <span class="st">&quot;2010-01-01&quot;</span>),
    <span class="kw">contains</span>(<span class="dt">assignee_organization =</span> <span class="st">&quot;microsoft&quot;</span>)
  )
)
<span class="kw">search_pv</span>(<span class="dt">query =</span> query)
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame on the patent data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ patents:'data.frame': 25 obs. of  3 variables:</span>
<span class="co">#&gt;   ..$ patent_id    : chr [1:25] &quot;7643030&quot; ...</span>
<span class="co">#&gt;   ..$ patent_number: chr [1:25] &quot;7643030&quot; ...</span>
<span class="co">#&gt;   ..$ patent_title : chr [1:25] &quot;Method and system for efficiently evaluating and drawing NURBS surfaces for 3D graphics&quot; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_patent_count = 20,629</span></code></pre></div>
<p>Which assignees have an inventor whose last name contains “smith” (e.g., “smith”, “johnson-smith”)? Also, give me the patent data where those “smiths” occur.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get all possible retrievable assignee-level and patent-level fields for </span>
<span class="co"># the assignees endpoint:</span>
asgn_pat_flds &lt;-<span class="st"> </span><span class="kw">get_fields</span>(<span class="st">&quot;assignees&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;assignees&quot;</span>, <span class="st">&quot;patents&quot;</span>))

<span class="co"># Ask the PatentsView API for these fields:</span>
<span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">contains</span>(<span class="dt">inventor_last_name =</span> <span class="st">&quot;smith&quot;</span>), 
          <span class="dt">endpoint =</span> <span class="st">&quot;assignees&quot;</span>, <span class="dt">fields =</span> asgn_pat_flds)
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame (with list column(s) inside) on the assignee data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ assignees:'data.frame':   25 obs. of  17 variables:</span>
<span class="co">#&gt;   ..$ assignee_first_name           : chr [1:25] NA ...</span>
<span class="co">#&gt;   ..$ assignee_first_seen_date      : chr [1:25] &quot;2000-10-17&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_id                   : chr [1:25] &quot;00043de7382082391622e725605f37b5&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_key_id               : chr [1:25] &quot;20&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_last_name            : chr [1:25] NA ...</span>
<span class="co">#&gt;   ..$ assignee_last_seen_date       : chr [1:25] &quot;2013-03-19&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_city       : chr [1:25] &quot;Bend&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_country    : chr [1:25] &quot;US&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_latitude   : chr [1:25] &quot;44.0582&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_location_id: chr [1:25] &quot;44.0581728|-121.3153096&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_longitude  : chr [1:25] &quot;-121.315&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_state      : chr [1:25] &quot;OR&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_organization         : chr [1:25] &quot;UltraCard, Inc.&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_total_num_inventors  : chr [1:25] &quot;5&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_total_num_patents    : chr [1:25] &quot;15&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_type                 : chr [1:25] &quot;2&quot; ...</span>
<span class="co">#&gt;   ..$ patents                       :List of 25</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_assignee_count = 9,188</span></code></pre></div>
<p>What are the top ten CPC subsections for patents funded by the DOE?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">contains</span>(<span class="dt">govint_org_name =</span> <span class="st">&quot;department of energy&quot;</span>), 
          <span class="dt">endpoint =</span> <span class="st">&quot;cpc_subsections&quot;</span>, 
          <span class="dt">fields =</span>  <span class="st">&quot;cpc_total_num_patents&quot;</span>,
          <span class="dt">sort =</span> <span class="kw">c</span>(<span class="st">&quot;cpc_total_num_patents&quot;</span> =<span class="st"> &quot;desc&quot;</span>), 
          <span class="dt">per_page =</span> <span class="dv">10</span>)
<span class="co">#&gt; $data</span>
<span class="co">#&gt; #### A list with a single data frame on the CPC subsection data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ cpc_subsections:'data.frame': 10 obs. of  1 variable:</span>
<span class="co">#&gt;   ..$ cpc_total_num_patents: chr [1:10] &quot;840412&quot; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $query_results</span>
<span class="co">#&gt; #### Distinct entity counts across all downloadable pages of output:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; total_cpc_subsection_count = 121</span></code></pre></div>
</div>
<div id="faq" class="section level2">
<h2>FAQ</h2>
<div id="im-sure-my-query-is-well-formatted-and-correct-but-i-keep-getting-an-error.-whats-the-deal" class="section level4">
<h4>I’m sure my query is well formatted and correct but I keep getting an error. What’s the deal?</h4>
<p>The API query syntax guidelines do not cover all of the API’s behavior. Specifically, there are several things that you cannot do which are not documented on the API’s webpage. The <a href="https://github.com/ropensci/patentsview/blob/master/vignettes/writing-queries.Rmd">writing queries vignette</a> has more details on this.</p>
</div>
<div id="does-the-api-have-any-rate-limitingthrottling-controls" class="section level4">
<h4>Does the API have any rate limiting/throttling controls?</h4>
<p>Not at the moment.</p>
</div>
<div id="how-do-i-download-more-than-100000-records" class="section level4">
<h4>How do I download more than 100,000 records?</h4>
<p>Your best bet is to split your query into pieces based on dates, then concatenate the results together. For example, the below query would return more than 100,000 records for the patents endpoint:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">query &lt;-<span class="st"> </span><span class="kw">with_qfuns</span>(
  <span class="kw">text_any</span>(<span class="dt">patent_abstract =</span> <span class="st">'tool animal'</span>)
)</code></pre></div>
<p>To download all of the records associated with this query, we could split it into two pieces and make two calls to <code>search_pv()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">query_1a &lt;-<span class="st"> </span><span class="kw">with_qfuns</span>(
  <span class="kw">and</span>(
    <span class="kw">text_any</span>(<span class="dt">patent_abstract =</span> <span class="st">'tool animal'</span>),
    <span class="kw">lte</span>(<span class="dt">patent_date =</span> <span class="st">&quot;2010-01-01&quot;</span>)
  )
)

query_1b &lt;-<span class="st"> </span><span class="kw">with_qfuns</span>(
  <span class="kw">and</span>(
    <span class="kw">text_any</span>(<span class="dt">patent_abstract =</span> <span class="st">'tool animal'</span>),
    <span class="kw">gt</span>(<span class="dt">patent_date =</span> <span class="st">&quot;2010-01-01&quot;</span>)
  )
)</code></pre></div>
</div>
<div id="how-do-i-access-the-data-frames-inside-of-the-subentity-list-columns" class="section level4">
<h4>How do I access the data frames inside of the subentity list columns?</h4>
<p>You can unnest the data frames from the list columns using <code>unnest_pv_data()</code>. This function creates a series of data frames that are like tables in a relational database. The data frames can be linked together using the primary key that you specify. For example, in this call our primary entity is the assignee, and the subentities include applications and “government interest statements”:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res &lt;-<span class="st"> </span><span class="kw">search_pv</span>(<span class="dt">query =</span> qry_funs$<span class="kw">contains</span>(<span class="dt">inventor_last_name =</span> <span class="st">&quot;smith&quot;</span>), 
                 <span class="dt">endpoint =</span> <span class="st">&quot;assignees&quot;</span>, 
                 <span class="dt">fields =</span> <span class="kw">get_fields</span>(<span class="st">&quot;assignees&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;assignees&quot;</span>,<span class="st">&quot;applications&quot;</span>, 
                                                    <span class="st">&quot;gov_interests&quot;</span>)))
res$data
<span class="co">#&gt; #### A list with a single data frame (with list column(s) inside) on the assignee data level:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ assignees:'data.frame':   25 obs. of  18 variables:</span>
<span class="co">#&gt;   ..$ assignee_first_name           : chr [1:25] NA ...</span>
<span class="co">#&gt;   ..$ assignee_first_seen_date      : chr [1:25] &quot;2000-10-17&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_id                   : chr [1:25] &quot;00043de7382082391622e725605f37b5&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_key_id               : chr [1:25] &quot;20&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_last_name            : chr [1:25] NA ...</span>
<span class="co">#&gt;   ..$ assignee_last_seen_date       : chr [1:25] &quot;2013-03-19&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_city       : chr [1:25] &quot;Bend&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_country    : chr [1:25] &quot;US&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_latitude   : chr [1:25] &quot;44.0582&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_location_id: chr [1:25] &quot;44.0581728|-121.3153096&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_longitude  : chr [1:25] &quot;-121.315&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_state      : chr [1:25] &quot;OR&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_organization         : chr [1:25] &quot;UltraCard, Inc.&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_total_num_inventors  : chr [1:25] &quot;5&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_total_num_patents    : chr [1:25] &quot;15&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_type                 : chr [1:25] &quot;2&quot; ...</span>
<span class="co">#&gt;   ..$ applications                  :List of 25</span>
<span class="co">#&gt;   ..$ gov_interests                 :List of 25</span></code></pre></div>
<p>The <code>res$data</code> data frame has assignee-level vector columns (e.g., the vector <code>res$data$assignees$assignee_first_seen_date</code>) and subentity-level list columns (e.g., the list <code>res$data$assignees$applications</code>). The list columns have data frames nested inside them, which we can extract using <code>unnest_pv_data()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unnest_pv_data</span>(<span class="dt">data =</span> res$data, <span class="dt">pk =</span> <span class="st">&quot;assignee_id&quot;</span>)
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ applications :'data.frame':   124 obs. of  5 variables:</span>
<span class="co">#&gt;   ..$ assignee_id: chr [1:124] &quot;00043de7382082391622e725605f37b5&quot; ...</span>
<span class="co">#&gt;   ..$ app_country: chr [1:124] &quot;US&quot; ...</span>
<span class="co">#&gt;   ..$ app_date   : chr [1:124] &quot;1998-07-10&quot; ...</span>
<span class="co">#&gt;   ..$ app_number : chr [1:124] &quot;09113783&quot; ...</span>
<span class="co">#&gt;   ..$ app_type   : chr [1:124] &quot;09&quot; ...</span>
<span class="co">#&gt;  $ gov_interests:'data.frame':   25 obs. of  8 variables:</span>
<span class="co">#&gt;   ..$ assignee_id                 : chr [1:25] &quot;00043de7382082391622e725605f37b5&quot; ...</span>
<span class="co">#&gt;   ..$ govint_contract_award_number: logi [1:25] NA ...</span>
<span class="co">#&gt;   ..$ govint_org_id               : logi [1:25] NA ...</span>
<span class="co">#&gt;   ..$ govint_org_level_one        : logi [1:25] NA ...</span>
<span class="co">#&gt;   ..$ govint_org_level_three      : logi [1:25] NA ...</span>
<span class="co">#&gt;   ..$ govint_org_level_two        : logi [1:25] NA ...</span>
<span class="co">#&gt;   ..$ govint_org_name             : logi [1:25] NA ...</span>
<span class="co">#&gt;   ..$ govint_raw_statement        : logi [1:25] NA ...</span>
<span class="co">#&gt;  $ assignees    :'data.frame':   25 obs. of  16 variables:</span>
<span class="co">#&gt;   ..$ assignee_id                   : chr [1:25] &quot;00043de7382082391622e725605f37b5&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_first_name           : chr [1:25] NA ...</span>
<span class="co">#&gt;   ..$ assignee_first_seen_date      : chr [1:25] &quot;2000-10-17&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_key_id               : chr [1:25] &quot;20&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_last_name            : chr [1:25] NA ...</span>
<span class="co">#&gt;   ..$ assignee_last_seen_date       : chr [1:25] &quot;2013-03-19&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_city       : chr [1:25] &quot;Bend&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_country    : chr [1:25] &quot;US&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_latitude   : chr [1:25] &quot;44.0582&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_location_id: chr [1:25] &quot;44.0581728|-121.3153096&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_longitude  : chr [1:25] &quot;-121.315&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_lastknown_state      : chr [1:25] &quot;OR&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_organization         : chr [1:25] &quot;UltraCard, Inc.&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_total_num_inventors  : chr [1:25] &quot;5&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_total_num_patents    : chr [1:25] &quot;15&quot; ...</span>
<span class="co">#&gt;   ..$ assignee_type                 : chr [1:25] &quot;2&quot; ...</span></code></pre></div>
<p>Now we are left with a series of flat data frames, instead of a single data frame with data frames nested inside. These flat data frames can be joined together as needed via the primary key (<code>assignee_id</code>).</p>
<hr />
<p><sup id="fn1">1</sup> You can use <code>get_endpoints()</code> to list the endpoint names as the API expects them to appear (e.g., <code>assignees</code>, <code>cpc_subsections</code>, <code>inventors</code>, <code>locations</code>, <code>nber_subcategories</code>, <code>patents</code>, and <code>uspc_mainclasses</code>)<sup><a href="#ref1">back</a></sup></p>
<p><sup id="fn2">2</sup> This webpage includes some details that are not relevant to the <code>query</code> argument in <code>search_pv</code>, such as the field list and sort parameter.<sup><a href="#ref2">back</a></sup></p>
<p><sup id="fn3">3</sup> You can unnest the data frames that are stored in the list columns using <code>unnest_pv_data()</code>. See the FAQs for details.<sup><a href="#ref3">back</a></sup></p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
